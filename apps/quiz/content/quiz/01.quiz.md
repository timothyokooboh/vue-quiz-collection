---
category: Vue.js
topic: Watchers
difficulty: Hard
options:
  - id: 1
    option: Because immediate option is not set to true.
  - id: 2
    option: Because deep option is not set to true.
  - id: 3
    option: Because the callback function is asynchronous.
  - id: 4
    option: watchEffect only tracks dependencies during its synchronous execution. When using it with an async callback, only properties accessed before the first await tick will be tracked.
correctOptionId: 4
referenceLink: https://vuejs.org/guide/essentials/watchers.html#watcheffect
---

::question{:type="questionType"}
In the following code, why is it that the watchEffect callback will not run whenever postId changes?

<br />

```js
watchEffect(async () => {
  settings.value = await Promise.resolve({ showComments: false });
  post.value = await getPost(postId.value);
});
```

<br />

::playgroundLink{href="https://play.vuejs.org/#eNp9U01v2zAM/SuEL3GAzEG3nbIkwzYUWHfYgnW3aQfVphO1smRIdD4Q+L+PkuIk7T5utvhIPj4+HrMPbVtsO8xm2dyXTrUEWpr1QmTkRQYeqWuXwqimtY7gCA7rCewklZvbusaSoIfa2QZGXGMkjDB0aBFW1hMsGK6qGZiueUA3gdIaQkMz8OSUWUN/At8jEf/7mOA3dvfJNg0D/QwerNUoTYAKw/lclRkNaOYyH5KX+ctcch1CPx7y2kQp5AR2y/xZ5K5Ksfzm/Fx1TXMI0NDqpzBwGufmapLRZ9Taws46XY36yQX0+hlIAW3QYUT8CqMII/3BlFB3piRlDayRQqtcVWM4hjLTKcia0IEEg8QNnqCUWoeQ4504c8WvqJWp8vz8MIbF8hIuFM+2YFY8WdTxant5opHHjNh3kLfYSs36LUDupCJY8Y6Vx8Kht3qLf4hdS+2T2pF6Z2q2S2ckoT5AuWFHoQeyg9Y7pTUYS7wktV7zlKwPYKQUKgTUCwKDQKlACo7f8UTcUpj5NHmXnco/hE2ruTX/AcyVaTuC7avGVqiLZEa2dyrEFp8mWLs8HmPj98Vpc9D382kw/3x6VTGb8GUwolbr4tFbw4cThRNZaZtWaXTf2rBSvp5ZkjTEeHV29yW+BV9Gp8ScDZZPf3l/9PvwJrIVK45uiyI7x0g6ViOFb++/4p6/z0GestOM/k/we9hhFzgm2MfOVEz7ChfZ3sWTZy/88Ld71sMPQwWiAZn8LjK+fDbCP0e/0H1TvI15vLWs/w2MxYso"}

::

::

::explanation{:type="explanationType"}

**Explanation: watchEffect only tracks dependencies during its synchronous execution. When using it with an async callback, only properties accessed before the first await tick will be tracked.**

<br>
In the provided code, the first time <code>postId.value</code> is accessed is after an await statement. By the time the code reaches that point, the initial synchronous execution of the watchEffect callback has already completed, and Vue has finished tracking dependencies for that run. As a result, changes to postId will not trigger the watchEffect callback to re-run.

::
