---
category: Vue.js
topic: Watchers
difficulty: Medium
options:
  - id: 1
    option: The sum of newValue and oldValue
  - id: 2
    option: A function to cleanup side effects
  - id: 3
    option: The component instance being watched
  - id: 4
    option: You cannot pass a third argument to the watch callback
correctOptionId: 2
referenceLink: https://vuejs.org/guide/essentials/watchers.html#side-effect-cleanup
---

::question{:type="questionType"}
What is the third argument passed to the callback function of watch?

<br />

```js
watch(users, (newVal, oldVal, ??) => {
  // callback logic
})
```

<br /> 

::playgroundLink{href="https://play.vuejs.org/#eNp9U8tu2zAQ/JUFL1IAVXaangzZRpv64B7Sok16qXqQpbVNlyIFPmwDgv69S8ryIwgCQQA5O0vO7C5b9rlp0r1DNmGZKTVvLBi0rpnlkteN0hZa0LhO4FDYcgsdrLWqIaKMKJe5LJU0FngFU8+K7wbEoMDSYvViUL+OOcLMCfyTS4CWVxO4T0AWNU4g2qmthEph1CXn6MdLtDBKgrGF3Rb1NeXhTCm3mhtYoQzhv3Sx/4KBmFcJxBIPvwvhMAElqmElHwUW8qW5g+kMWn+sQAuW16iX3h+V5Zk2ytk4vnDgxmq694cROXjsd+mayyqOPRLS/CL1FZtOYRBCEgG6BO7H43GQCxc9t7eVBOpBx0lcyIYrqdIJEU6kiP+zUd9aaiptLNaNKCzSDiBrZm1742Ge+jLCfA7RkwpqYa2crKKuy0Z+LihJFCsUBOtpzniVs9lCWuKFbi+/QjYKhJ7LZeP8iJyosP9QqwpFKl29wvMB2SjwKCUbXQlkCbOGxmbNN+mOGk9jGgqRs1LVDReovzeW01jlbDKUKGeFEOrwLWBWU3MHvNxi+e8NfGeOHsvZD41kYY85O8dsoTdo+/Di1xMeaX0OkhMniP1O8CcaJZzX2NO+UClJ9hUvqF2Gx8bl5tksjhalGUx5of109L7p5T2+Y/0i9yH9FPJoBFj3H83USco="}


::

::

::explanation{:type="explanationType"}

**The third argument passed to the callback function of watch is a function to cleanup side effects.**

<br />

The function is called just before the watcher is executed again. Hence it is a good place to clean up side effects such as cancelling network requests or clearing timers.

<br />

```js
<script setup>
import { ref, watch } from 'vue'

const id = ref()
const selectedUser = ref()
const users = ref([
  {id: 1, name: 'john doe'},
  {id: 2, name: 'jason statham'},
  {id: 3, name: 'chris ben'},
])


watch(id, (newValue, oldValue, onCleanUp) => {
  let timerId = setTimeout(() => {
    selectedUser.value = users.value.find((user) => user.id === newValue)
  }, 1000)

  onCleanUp(() => {
    clearTimeout(timerId)
    timerId = null
  })
})
</script>

<template>
  <p>{{ selectedUser?.name ?? 'No user found'}}</p>
  <label for="id">Enter User ID </label>
  <input id="id" v-model.number="id"></input>
</template>
```

::






::vueTip{:type="tip" :reference="https://vuejs.org/guide/essentials/watchers.html#side-effect-cleanup" :position="18"}

#text

The third parameter in watch callbacks is an onCleanup function, called before the watcher re-runs to clean up side effects.

#code

```js
watch(id, (newValue, oldValue, onCleanUp) => {
  let timerId = setTimeout(() => {
    selectedUser.value = users.value.find((user) => user.id === newValue)
  }, 1000)

  onCleanUp(() => {
    clearTimeout(timerId)
  })
})
```

#tag

Watchers

::
